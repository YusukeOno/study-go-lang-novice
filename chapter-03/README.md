# Operators and Datatypes

## 演算子

三項演算子（条件演算子）は無い。

## 基本型と複合型

Go言語のデータ型は「基本型」と「複合型」に分かれます。

基本型は単体で意味をなすデータを扱い、複合型は他の型と組み合わせて使用するようなデータを扱う。

「数値型」「文字列型」「真偽値型」が基本形で、それ以外が複合型である。

## 型宣言

型に別名をつけて新しい型を作成することを「型宣言」という。なお、宣言した型と元の型は「別物」として扱われる。

- [example-variable.go](./example-variable.go)

## 数値型

数値型は「整数型」「浮動小数点型」「複素数型」の3つの分類がある。

## 文字列型

「string」。メモリ上への参照をUTF-8のバイト列で扱い、ゼロ値は空文字（""）。

JavaのStringと同じくイミュータブル（状態変更不可）な性質を持つ。

## 真偽値型

「bool」。"true"と"false"のどちらかを扱い、ゼロ値は"false"。

## 構造体型

C言語の構造体と比べると、Go言語特有の機能が備わっている。

構造体は`struct`キーワードを使って宣言する。

- [example-struct.go](./example-struct.go)

次に、Go言語の構造体は別の構造体を自身に埋め込むことができる。

- [example-struct-anonymous.go](./example-struct-anonymous.go)

構造体に別の構造体を埋め込む際には、例のように「型名」のみを指定する。（これを匿名フィールドと呼ぶ）

埋め込んだ構造体のメンバは、自身のメンバの如く扱うことができるようになる。

最後に、Go言語の構造体ではメンバに対してタグづけをすることができる。また、タグづけした値はreflectパッケージの機能を使って参照することができる。

- [example-struct-tag.go](./example-struct-tag.go)

## ポインタ型

Go言語にもポインタの概念がある。

ポインタを扱うための型が「ポインタ型」であり、変数宣言の際に型名に "*" をつけて定義する。

また、変数に "&" をつけると変数のアドレスを参照することができ、アドレスから変数の値を参照するには "*" を変数につける。

なお、Go言語では「ポインタの値を演算して別アドレスにする」ようなことはできない。

- [example-pointer.go](./example-pointer.go)

Go言語ではnew関数を使って動的にメモリを確保することができる。その際、確保したメモリのアドレスはポインタ型の変数に格納することができる。

なお、new関数で割り当てたメモリは型ごとのゼロ値で初期化されている。

- [example-pointer-new.go](./example-pointer-new.go)

## 配列型

Go言語の配列は固定長のデータ構造を提供する。可変長のデータ構造は「スライス」が提供する。

同じ型でもデータ長の異なる場合は異なる型として扱われる。また、配列の角要素は初期値を指定しなければ型ごとのゼロ値で初期化され、初期値を指定する場合は配列リテラルを使う。

配列リテラルは波括弧の中にカンマで区切った値を記述する。

- [example-array.go](./example-array.go)

## スライス型

「可変長な配列」がスライスである。

配列と違ってスライスはデータ長を指定しない。また、初期値を設定する際にはスライスリテラルを使用するが、これもデータ長を指定しないこと以外は配列リテラルと変わらない。

なお、スライスは各要素に値の参照を保持するため、初期値を指定しない場合は型ごとのゼロ値ではなく`nil`という値が設定される。

- [example-slice.go](./example-slice.go)

## マップ型

マップは、連想配列やハッシュに相当する型で、キーと要素のリストを管理する。

マップ型の各要素はスライスと同じく初期値を指定しないと`nil`が設定され、初期値を指定する場合はマップリテラルを使う。

- [example-map.go](./example-map.go)

## その他の型

他にも「チャネル型」「関数型」「インターフェース型」がある。

## リテラル

| リテラル名         | 記述例                     | 備考                    |
|----------------|----------------------------|-------------------------|
| 整数リテラル       | 1111、0123、0xabcd           | 10進数、8進数、16進数     |
| 浮動小数点リテラル | 1.1、1.2e+3                 | 符指数表記可            |
| 虚数リテラル       | 1.1i                       |                         |
| ルーンリテラル        | 'あ'                        | Unicodeコードポイントの数値を表す |
| 文字列リテラル     | "あいうえお"                    | エスケープシーケンス利用可        |
| row文字列リテラル  | \`かきくけこ`                   | 複数行の文字列を表記可    |
| 構造体リテラル     | struct{a int}{a:0}         |                         |
| 配列リテラル       | [2]int{0, 1, 2}            |                         |
| スライスリテラル       | []int{0, 1, 2}             |                         |
| マップリテラル        | map[string]int{"a":0}      |                         |
| 関数リテラル       | func(a int) int {return 1} |                         |
