# Syntax

## Basic syntax

主な特徴

- 文末にセミコロンをつける必要がない（付けなくても良い）
- セミ転んで文で区切れば1行に複数の処理を記載できる
- 値の代入はイコール(=)
- ダブルクォーとがくくると通常の文字列、バッククォートで括るとraw文字列
- 処理のブロックは波括弧で括る
- クラスのメンバアクセスはドットで行う
- 大文字と小文字は区別される
- 識別子に使えるのは文字、数値、アンダースコアで、数値以外から始める（2バイト文字も使用可能）
- 単行コメントは「//〜〜」、複数行コメントは「/*〜*/」
- 変数宣言は「var」
- 関数定義は「func 関数名(引数...)」、戻り値の指定は「return 式」

C系やJavaの文法に非常に近い。

文末の改行コードについて「改行直前の値で文末とする・しない」という仕様もある。

## Package

Go言語のプログラムは一つ以上のパッケージで構成される

また、プログラムはmainパッケージのmain関数から開始される。

他にもパッケージには次のようなルールがある。

- パッケージは、一つ以上のソースファイルで構成される。
- 同じパッケージに属するソースファイルは、すべて同一のディレクトリに格納する
- 一つのディレクトリに、複数のパッケージを配置することはできない
- mainパッケージを除き、パッケージ名と格納ディレクトリ名は同じにする（これは必須ではなく慣例）

次の、ソースファイルがどのパッケージに属するかは`package`文で指定する。

同一のパッケージに属するソースファイル同士では、互いの変数や関数などを自由に利用することができる。

次に、他のパッケージをインポートするには`import`文を使用する。

複数のパッケージをインポートする場合、括弧を使ってまとめることができる。

```go
// 単一のインポート
import "p1"

// 複数のインポート
import (
    "p2"
    "p3"
    "p4"
)
```

Go言語では名前の先頭を小文字にするか大文字にするかでメンバの公開（エクスポート）有無を決めることができる。

小文字から始まるメンバは、異なるパッケージに属するソースファイルからは参照ができなくなる。

```go
package p1

// この関数はp1パッケージ以外からは使用できない
func fnc1() {
    // 略
}

// この関数はp1パッケージ以外から使用可能
func Fnc2() {
    // 略
}
```

## Variable Declaration

変数は`var`キーワードで宣言する。

基本的には`var 変数名 型名`の形式で宣言するが、初期値の指定や肩の省略も可能。

型を省略した場合、初期利の値に応じて自動的に型が決まる。

また、初期値を省略した変数には肩ごとに決まっている「ゼロ値」と呼ばれる値で初期化される。

```go
// 単一の変数宣言
var a int // 初期値の指定なし
var b int = 1 // 初期値を指定
var c = 0 // 型を省略

// 複数の変数宣言
var (
    d int
    e int - 1
    f = 0
)

var a1, a2 int
var b1, b2 int = 0, 1
var c1, c2 = 0, 1
```

次の、Go言語の変数スコープはグローバルとローカルの2種類で、ソースのトップレベルで宣言すれば黒バルスコープ、関数内で宣言すればローカルスコープになる。

また、ローカルスコープの変数に限り「変数名 := 式」の形式で宣言することができる。

この際、変数の方は指定できない

```go
func main() {
    a := 1
    b,c := 2,3
    var d int = 4 // varも使用可能
    // 略
}
```

最後に、定数は`const`キーワードで宣言する。

定数そのものの考え方（値の変更ができない点）は他の言語と何ら変わりないが、Go言語には"iota"という一風変わったものが存在し、これを使うと連続した値を生成することができる。

また、Go言語では型を持つ定数と持たない定数の両者が定義できる。

```go
func main() {
    // 定数の定義
    const c1 string = "hoge"
    const (
        c2 = 1
        c3 = c1
    )
    fmt.Pringln(c1, c2, c3) // hoge 1 hoge

    // iotaを使う定数
    const (
        c4 = iota
        c5 = iota
        c6
    )
    const (
        c7 = iota
        c8 = 0
        c9 = iota
        c10
    )
    fmt.Println(c4, c5, c6) // 0 1 2
    fmt.Pringln(c7. c8. c9. c10) // 0 0 2 3
}
```

iotaはGoにおける連番定数生成器である。

以上
