# 並行処理

## ゴルーチン

ゴルーチンとはGo言語に用意されている処理の単位である。

Go言語では複数のゴルーチンを並行で動作させることで並行処理を実現する。

ゴルーチンは「go文」で関数を呼び出すことで生成する。

なお、main関数は他のゴルーチンの終了を待たないため、自身（main関数のゴルーチン）が終了した時点でプログラムは終了する。

また、同一プロセス内の全てのゴルーチンは同じメモリ空間を使用するため、グローバル変数の扱いには若干の注意が必要になる。

- [example-goroutine.go](./example-goroutine.go)

```zsh
> go run ./example-goroutine.go
main実行
0x1050e4828
sub実行
0x1050e4828
```

## チャネル

ゴルーチン間で何らかの値をやり取りするには「チャネル」を使用する。

チャネルはGo言語で値を送受信するための通信経路で、用途に応じて次に３パターンの定義を行う。

```go
chan 要素の型 // 送受信用のチャネル
chan <- 要素の型 // 送信専用のチャネル
<-chan 要素の型  // 受信専用のチャネル
```

また、チャネルはmake関数で生成する。

```zsh
> go run ./example-chan-make.go
[値を送信:1]
[値を受信:1]
```

以上
